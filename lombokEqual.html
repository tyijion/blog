<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- åŸºç¡€SEOä¿¡æ¯ -->
    <title>Lombok @Dataé™·é˜±ï¼šç©ºå­ç±»ç»§æ‰¿å¯¼è‡´çš„equals/hashCodeé”™è¯¯ | Javaå¼€å‘æŒ‡å—</title>
    <meta name="description" content="æ·±å…¥åˆ†æLombokä¸­@Dataæ³¨è§£ä¸ç©ºå­ç±»ç»§æ‰¿å¯¼è‡´çš„equalså’ŒhashCodeæ–¹æ³•é”™è¯¯é—®é¢˜ï¼Œæä¾›å®Œæ•´çš„è§£å†³æ–¹æ¡ˆå’Œæœ€ä½³å®è·µï¼Œå¸®åŠ©Javaå¼€å‘è€…é¿å…è¿™ä¸€å¸¸è§é™·é˜±ã€‚">
    <meta name="keywords" content="Lombok, Java, @Dataæ³¨è§£, equalsæ–¹æ³•, hashCode, ç»§æ‰¿é™·é˜±, ç©ºå­ç±», callSuper, å¯¹è±¡ç›¸ç­‰æ€§, Javaå¼€å‘æŠ€å·§">
    
    <!-- ä½œè€…å’Œç‰ˆæƒä¿¡æ¯ -->
    <!-- <meta name="author" content="JavaæŠ€æœ¯ä¸“æ ">
    <meta name="copyright" content="Â© 2024 Javaå¼€å‘è€…ç¤¾åŒº">
     -->
    <!-- Open Graphç¤¾äº¤åˆ†äº«ä¿¡æ¯ -->
    <meta property="og:title" content="Lombok @Dataé™·é˜±ï¼šç©ºå­ç±»ç»§æ‰¿å¯¼è‡´çš„equals/hashCodeé”™è¯¯">
    <meta property="og:description" content="Lombokä¸­@Dataæ³¨è§£åœ¨ç©ºå­ç±»ç»§æ‰¿åœºæ™¯ä¸‹çš„é™·é˜±åˆ†æä¸è§£å†³æ–¹æ¡ˆ">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://tyijion.github.io/blog/lombokEqual.html">
    <meta property="og:image" content="https://tyijion.github.io/blog/favicon.png">
    <meta property="og:site_name" content="JavaæŠ€æœ¯ä¸“æ ">
    <meta property="og:locale" content="zh_CN">
    
    <!-- Twitter Cardä¿¡æ¯ -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Lombok @Dataé™·é˜±ï¼šç©ºå­ç±»ç»§æ‰¿å¯¼è‡´çš„equals/hashCodeé”™è¯¯">
    <meta name="twitter:description" content="Lombokä¸­@Dataæ³¨è§£åœ¨ç©ºå­ç±»ç»§æ‰¿åœºæ™¯ä¸‹çš„é™·é˜±åˆ†æä¸è§£å†³æ–¹æ¡ˆ">
    <meta name="twitter:image" content="https://tyijion.github.io/blog/favicon.png">
    <meta name="twitter:creator" content="@javadev">
    
    <!-- ç»“æ„åŒ–æ•°æ®ï¼ˆSchema.orgï¼‰ -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "TechArticle",
        "headline": "Lombok @Dataé™·é˜±ï¼šç©ºå­ç±»ç»§æ‰¿å¯¼è‡´çš„equals/hashCodeé”™è¯¯",
        "description": "æ·±å…¥åˆ†æLombokä¸­@Dataæ³¨è§£ä¸ç©ºå­ç±»ç»§æ‰¿å¯¼è‡´çš„equalså’ŒhashCodeæ–¹æ³•é”™è¯¯é—®é¢˜"
        "datePublished": "2026-01-16",
        "dateModified": "2026-01-16",
        "image": "https://example.com/images/lombok-equals-trap-cover.png",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://example.com/articles/lombok-equals-trap"
        },
        "articleSection": "Javaå¼€å‘",
        "keywords": "Lombok,Java,æ³¨è§£,equals,hashCode,ç»§æ‰¿,é™·é˜±",
        "inLanguage": "zh-CN",
        "wordCount": "2500",
        "timeRequired": "PT8M",
        "difficulty": "Intermediate"
    }
    </script>
    
   
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            padding: 40px;
            margin-bottom: 30px;
        }
        
        header {
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 25px;
            margin-bottom: 35px;
        }
        
        h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.2rem;
            font-weight: normal;
            margin-bottom: 10px;
        }
        
        .meta {
            color: #95a5a6;
            font-size: 0.95rem;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }
        
        .tag {
            display: inline-block;
            background: #e8f4fc;
            color: #3498db;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            margin-right: 8px;
        }
        
        .warning-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .warning-box h3 {
            color: #856404;
            margin-bottom: 10px;
        }
        
        .code-container {
            background: #2d3748;
            border-radius: 8px;
            margin: 25px 0;
            overflow: hidden;
        }
        
        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #1a202c;
            padding: 10px 15px;
            border-bottom: 1px solid #4a5568;
        }
        
        .language-tag {
            color: #a0aec0;
            font-size: 0.85rem;
            font-family: 'Consolas', 'Monaco', monospace;
        }
        
        .copy-btn {
            background: #4a5568;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background 0.3s;
            font-family: inherit;
        }
        
        .copy-btn:hover {
            background: #2d3748;
        }
        
        .code-content {
            padding: 20px;
            overflow-x: auto;
        }
        
        pre {
            margin: 0;
            padding: 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.95rem;
            line-height: 1.5;
            color: #e2e8f0;
            white-space: pre;
        }
        
        .comment {
            color: #a0aec0;
        }
        
        .keyword {
            color: #f68787;
        }   
        
        .string {
            color: #68d391;
        }
        
        .annotation {
            color: #d69ef7;
        }
        
        .class-name {
            color: #4dc0b5;
        }
        
        .method {
            color: #f6ad55;
        }
        
        .number {
            color: #f6ad55;
        }
        
        .operator {
            color: #f68787;
        }
        
        h2 {
            color: #34495e;
            margin: 35px 0 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #ecf0f1;
        }
        
        h3 {
            color: #2c3e50;
            margin: 25px 0 12px;
        }
        
        p {
            margin-bottom: 16px;
            text-align: justify;
        }
        
        ul, ol {
            margin: 16px 0;
            padding-left: 30px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #dee2e6;
        }
        
        td {
            padding: 15px;
            border-bottom: 1px solid #dee2e6;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .comparison-table th:first-child {
            width: 20%;
        }
        
        .solution-table th:nth-child(1) {
            width: 15%;
        }
        
        .solution-table th:nth-child(2) {
            width: 25%;
        }
        
        .quote {
            background: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 20px;
            margin: 25px 0;
            font-style: italic;
        }
        
        .quote-author {
            text-align: right;
            color: #7f8c8d;
            margin-top: 10px;
            font-style: normal;
        }
        
        footer {
            text-align: center;
            padding: 30px 0;
            color: #95a5a6;
            font-size: 0.9rem;
            border-top: 1px solid #ecf0f1;
            margin-top: 40px;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .code-content {
                padding: 15px;
            }
            
            pre {
                font-size: 0.85rem;
            }
        }
        
        .toc {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
        }
        
        .toc h3 {
            margin-top: 0;
        }
        
        .toc ul {
            list-style: none;
            padding-left: 10px;
        }
        
        .toc a {
            color: #3498db;
            text-decoration: none;
        }
        
        .toc a:hover {
            text-decoration: underline;
        }
        
        .section-link {
            color: #3498db;
            text-decoration: none;
        }
        
        .section-link:hover {
            text-decoration: underline;
        }
        
        .badge {
            display: inline-block;
            padding: 2px 8px;
            background: #e53e3e;
            color: white;
            border-radius: 12px;
            font-size: 0.75rem;
            margin-left: 8px;
            vertical-align: middle;
        }
        
        .note {
            background: #ebf8ff;
            border-left: 4px solid #4299e1;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .note h4 {
            color: #2b6cb0;
            margin-bottom: 8px;
        }
        
        .demo-section {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .demo-output {
            background: #2d3748;
            color: #68d391;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
            font-family: 'Consolas', 'Monaco', monospace;
            white-space: pre-wrap;
            line-height: 1.5;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        .code-line {
            display: block;
            min-height: 1.5em;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Lombokä¸­çš„equalsé™·é˜±ï¼šå½“@Dataé‡ä¸Šç©ºå­ç±»ç»§æ‰¿</h1>
            <p class="subtitle">åœ¨é¢å‘å¯¹è±¡çš„ç»§æ‰¿ä½“ç³»ä¸­ï¼Œä¸¤ä¸ªæ˜æ˜ä¸åŒçš„å¯¹è±¡å´è¢«åˆ¤å®šä¸ºç›¸ç­‰ï¼Œè¿™ç§è¯¡å¼‚çš„Bugå¾€å¾€æºäºLombokæ³¨è§£çš„å¾®å¦™è¡Œä¸ºã€‚</p>
            <div class="meta">
                <span>ğŸ“… 2026å¹´1æœˆ</span>
                <span>â±ï¸ é˜…è¯»æ—¶é—´ï¼š3åˆ†é’Ÿ</span>
                <span>ğŸ·ï¸ 
                    <span class="tag">Lombok</span>
                    <span class="tag">Java</span>
                    <span class="tag">Bugæ’æŸ¥</span>
                    <span class="tag">æœ€ä½³å®è·µ</span>
                </span>
            </div>
        </header>

        <div class="toc">
            <h3>ğŸ“‘ ç›®å½•</h3>
            <ul>
                <li><a href="#problem" class="section-link">1. é—®é¢˜é‡ç°ï¼šä¸€ä¸ªç®€å•çš„ç»§æ‰¿æ¡ˆä¾‹</a></li>
                <li><a href="#root-cause" class="section-link">2. é—®é¢˜æ ¹æºï¼šLombokçš„é»˜è®¤è®¾è®¡é€‰æ‹©</a></li>
                <li><a href="#trap-or-defect" class="section-link">3. ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸€ä¸ªé™·é˜±è€Œéç¼ºé™·ï¼Ÿ</a></li>
                <li><a href="#solutions" class="section-link">4. è§£å†³æ–¹æ¡ˆå¯¹æ¯”</a></li>
                <li><a href="#best-practices" class="section-link">5. æœ€ä½³å®è·µå»ºè®®</a></li>
                <li><a href="#conclusion" class="section-link">6. ç»“è¯­ï¼šæ¡†æ¶è®¾è®¡çš„å¹³è¡¡è‰ºæœ¯</a></li>
            </ul>
        </div>

        <section id="problem">
            <h2>ğŸ” é—®é¢˜é‡ç°ï¼šä¸€ä¸ªç®€å•çš„ç»§æ‰¿æ¡ˆä¾‹</h2>
            <p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªå®é™…ä»£ç ç¤ºä¾‹å¼€å§‹ï¼Œçœ‹çœ‹è¿™ä¸ªé—®é¢˜æ˜¯å¦‚ä½•å‘ç”Ÿçš„ï¼š</p>
            
            <div class="code-container">
                <div class="code-header">
                    <span class="language-tag">Java</span>
                    <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶ä»£ç </button>
                </div>
                <div class="code-content">
<pre><span class="comment">// çˆ¶ç±»ï¼šä¸€ä¸ªæ™®é€šçš„å®ä½“åŸºç±»</span>
<span class="annotation">@Data</span>
<span class="keyword">public class</span> <span class="class-name">Parent</span> {
    <span class="keyword">private</span> <span class="class-name">Long</span> id;
    <span class="keyword">private</span> <span class="class-name">String</span> name;
}

<span class="comment">// å­ç±»ï¼šä¸€ä¸ªæ²¡æœ‰ä»»ä½•æ–°å¢å±æ€§çš„å­ç±»</span>
<span class="annotation">@Data</span>
<span class="keyword">public class</span> <span class="class-name">Child</span> <span class="keyword">extends</span> <span class="class-name">Parent</span> {
    <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œæ²¡æœ‰ä»»ä½•å±æ€§ï¼</span>
}

<span class="comment">// æµ‹è¯•ä»£ç </span>
<span class="keyword">public static void</span> <span class="method">main</span>(<span class="class-name">String</span>[] args) {
    <span class="class-name">Child</span> child1 = <span class="keyword">new</span> <span class="class-name">Child</span>();
    child1.setId(1L);
    child1.setName(<span class="string">"å¼ ä¸‰"</span>);
    
    <span class="class-name">Child</span> child2 = <span class="keyword">new</span> <span class="class-name">Child</span>();
    child2.setId(2L);  <span class="comment">// ä¸åŒçš„IDï¼</span>
    child2.setName(<span class="string">"æå››"</span>);
    
    <span class="class-name">System</span>.out.println(<span class="string">"child1.equals(child2): "</span> + child1.equals(child2));
    <span class="comment">// è¾“å‡ºï¼štrue âŒ é”™è¯¯ï¼</span>
    
    <span class="class-name">System</span>.out.println(<span class="string">"child1.hashCode() == child2.hashCode(): "</span> + 
                       (child1.hashCode() == child2.hashCode()));
    <span class="comment">// è¾“å‡ºï¼štrue âŒ é”™è¯¯ï¼</span>
}</pre>
                </div>
            </div>
            
            <div class="demo-section">
                <h4>ğŸƒ å®é™…è¿è¡Œç»“æœ</h4>
                <div class="demo-output">
child1.equals(child2): true
child1.hashCode() == child2.hashCode(): true
ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„å¯¹è±¡å´è¢«åˆ¤å®šä¸ºç›¸ç­‰ï¼
                </div>
            </div>
            
            <div class="warning-box">
                <h3>âš ï¸ è¿è¡Œç»“æœä»¤äººæƒŠè®¶</h3>
                <p>ä¸¤ä¸ªæ‹¥æœ‰ä¸åŒ<code>id</code>å’Œ<code>name</code>çš„å¯¹è±¡è¢«åˆ¤å®šä¸ºç›¸ç­‰ï¼è¿™æ˜¾ç„¶è¿åäº†æˆ‘ä»¬å¯¹å¯¹è±¡ç›¸ç­‰æ€§çš„åŸºæœ¬è®¤çŸ¥ã€‚</p>
                <p>åœ¨Javaä¸­ï¼Œå¯¹è±¡çš„ç›¸ç­‰æ€§åº”è¯¥åŸºäºå…¶çŠ¶æ€ï¼ˆå±æ€§å€¼ï¼‰ã€‚å¦‚æœä¸€ä¸ªç³»ç»Ÿçš„<code>equals</code>æ–¹æ³•å®ç°é”™è¯¯ï¼Œä¼šå¯¼è‡´ï¼š</p>
                <ul>
                    <li>HashSet/HashMapä¸­å‡ºç°é‡å¤å…ƒç´ </li>
                    <li>é›†åˆæ“ä½œï¼ˆå¦‚containsã€removeï¼‰è¡Œä¸ºå¼‚å¸¸</li>
                    <li>ç¼“å­˜ç³»ç»Ÿå¤±æ•ˆ</li>
                    <li>éš¾ä»¥è¿½è¸ªçš„å¹¶å‘é—®é¢˜</li>
                </ul>
            </div>
        </section>

        <section id="root-cause">
            <h2>ğŸ¯ é—®é¢˜æ ¹æºï¼šLombokçš„é»˜è®¤è®¾è®¡é€‰æ‹©</h2>
            
            <h3>1. @Dataæ³¨è§£çš„é»˜è®¤è¡Œä¸º</h3>
            <p><code>@Data</code>æ³¨è§£æ˜¯Lombokä¸­æœ€å¸¸ç”¨çš„æ³¨è§£ä¹‹ä¸€ï¼Œå®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œç­‰ä»·äºï¼š</p>
            <ul>
                <li><code>@Getter</code></li>
                <li><code>@Setter</code></li>
                <li><code>@ToString</code></li>
                <li><code>@EqualsAndHashCode</code></li>
                <li><code>@RequiredArgsConstructor</code></li>
            </ul>
            <p>é—®é¢˜çš„æ ¸å¿ƒåœ¨äº<code>@EqualsAndHashCode</code>çš„<strong>é»˜è®¤è¡Œä¸º</strong>ã€‚</p>
            
            <div class="note">
                <h4>ğŸ’¡ å…³é”®ç‚¹</h4>
                <p><code>@EqualsAndHashCode</code>æ³¨è§£é»˜è®¤çš„<code>callSuper</code>å€¼ä¸º<code>false</code>ï¼Œè¿™æ„å‘³ç€å®ƒ<strong>åªè€ƒè™‘å½“å‰ç±»çš„å­—æ®µ</strong>ï¼Œè€Œ<strong>å¿½ç•¥çˆ¶ç±»çš„æ‰€æœ‰å­—æ®µ</strong>ã€‚</p>
            </div>
            
            <h3>2. è®¾è®¡å“²å­¦ï¼šçµæ´»æ€§ vs å®‰å…¨æ€§</h3>
            <p>Lombokçš„è®¾è®¡è€…é¢ä¸´ä¸€ä¸ªè®¾è®¡æŠ‰æ‹©ï¼š</p>
            <ul>
                <li><strong>é€‰é¡¹A</strong>ï¼šé»˜è®¤åŒ…å«çˆ¶ç±»å­—æ®µï¼ˆ<code>callSuper = true</code>ï¼‰</li>
                <li><strong>é€‰é¡¹B</strong>ï¼šé»˜è®¤ä¸åŒ…å«çˆ¶ç±»å­—æ®µï¼ˆ<code>callSuper = false</code>ï¼Œå½“å‰é»˜è®¤å€¼ï¼‰</li>
            </ul>
            
            <p>Lomboké€‰æ‹©äº†<strong>é€‰é¡¹B</strong>ï¼Œè¿™èƒŒåçš„è€ƒè™‘æ˜¯ï¼š</p>
            <ol>
                <li><strong>Javaçš„æ™®éå®è·µ</strong>ï¼šå¤§å¤šæ•°Javaç±»ç›´æ¥ç»§æ‰¿<code>Object</code>ï¼Œè€Œéå…·ä½“çˆ¶ç±»</li>
                <li><strong>é¿å…è¿‡åº¦å‡è®¾</strong>ï¼šæ¡†æ¶ä¸åº”å‡è®¾å¼€å‘è€…çš„ç»§æ‰¿æ„å›¾</li>
                <li><strong>å‘åå…¼å®¹</strong>ï¼šä¿æŒä¸æ‰‹åŠ¨ç¼–å†™ä»£ç æ—¶å¸¸è§çš„<code>equals</code>å®ç°ä¸€è‡´</li>
            </ol>
            
            <p>ç„¶è€Œï¼Œè¿™ä¸ªé€‰æ‹©å¸¦æ¥äº†ä¸€ä¸ªä¸¥é‡é—®é¢˜ï¼š<strong>å½“å­ç±»ç»§æ‰¿å®ä½“çˆ¶ç±»ä¸”æ²¡æœ‰è‡ªèº«å±æ€§æ—¶ï¼Œæ‰€æœ‰å®ä¾‹çš„<code>equals</code>éƒ½è¿”å›true</strong>ã€‚</p>
            
            <h3>3. ç”Ÿæˆçš„ä»£ç åˆ†æ</h3>
            <p>è®©æˆ‘ä»¬çœ‹çœ‹Lombokå®é™…ç”Ÿæˆäº†ä»€ä¹ˆä»£ç ï¼š</p>
            
            <div class="code-container">
                <div class="code-header">
                    <span class="language-tag">Java - Lombokç”Ÿæˆçš„ä»£ç </span>
                    <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶ä»£ç </button>
                </div>
                <div class="code-content">
<pre><span class="comment">// ä½¿ç”¨é»˜è®¤@Dataæ³¨è§£ç”Ÿæˆçš„Childç±»equalsæ–¹æ³•</span>
<span class="keyword">public boolean</span> <span class="method">equals</span>(<span class="class-name">Object</span> o) {
    <span class="keyword">if</span> (o == <span class="keyword">this</span>) {
        <span class="keyword">return true</span>;
    }
    <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> <span class="class-name">Child</span>)) {
        <span class="keyword">return false</span>;
    }
    <span class="class-name">Child</span> other = (<span class="class-name">Child</span>) o;
    <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œåªæ£€æŸ¥Childè‡ªèº«çš„å±æ€§ï¼Œä½†Childæ²¡æœ‰å±æ€§ï¼</span>
    <span class="comment">// æ‰€ä»¥ç›´æ¥è¿”å›true</span>
    <span class="keyword">return true</span>;
}

<span class="comment">// è€Œå¦‚æœæ‰‹åŠ¨ç¼–å†™æ­£ç¡®çš„equalsæ–¹æ³•ï¼Œåº”è¯¥æ˜¯ï¼š</span>
<span class="keyword">public boolean</span> <span class="method">equals</span>(<span class="class-name">Object</span> o) {
    <span class="keyword">if</span> (o == <span class="keyword">this</span>) {
        <span class="keyword">return true</span>;
    }
    <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> <span class="class-name">Child</span>)) {
        <span class="keyword">return false</span>;
    }
    <span class="class-name">Child</span> other = (<span class="class-name">Child</span>) o;
    <span class="comment">// åº”è¯¥åŒæ—¶æ£€æŸ¥çˆ¶ç±»å’Œå­ç±»çš„å±æ€§</span>
    <span class="keyword">if</span> (!<span class="keyword">super</span>.equals(o)) {
        <span class="keyword">return false</span>;  <span class="comment">// æ£€æŸ¥çˆ¶ç±»å±æ€§</span>
    }
    <span class="comment">// æ£€æŸ¥å­ç±»å±æ€§ï¼ˆæœ¬ä¾‹ä¸­æ²¡æœ‰ï¼‰</span>
    <span class="keyword">return true</span>;
}</pre>
                </div>
            </div>
            
            <div class="warning-box">
                <h3>ğŸ” æ ¸å¿ƒé—®é¢˜åˆ†æ</h3>
                <p>å½“å­ç±»ä½¿ç”¨<code>@Data</code>ä½†æ²¡æœ‰è‡ªå·±çš„å±æ€§æ—¶ï¼š</p>
                <ol>
                    <li>Lombokç”Ÿæˆçš„<code>equals</code>æ–¹æ³•åªæ£€æŸ¥å­ç±»è‡ªèº«çš„å­—æ®µ</li>
                    <li>ç”±äºå­ç±»æ²¡æœ‰å­—æ®µï¼Œä»»ä½•ä¸¤ä¸ª<code>Child</code>å®ä¾‹éƒ½ä¼šè¢«åˆ¤å®šä¸ºç›¸ç­‰</li>
                    <li>çˆ¶ç±»çš„<code>id</code>å’Œ<code>name</code>å­—æ®µå®Œå…¨è¢«å¿½ç•¥</li>
                    <li>è¿™è¿åäº†é¢å‘å¯¹è±¡çš„åŸºæœ¬åŸåˆ™ï¼šå­ç±»åº”è¯¥åŒ…å«çˆ¶ç±»çš„çŠ¶æ€</li>
                </ol>
            </div>
        </section>

        <section id="trap-or-defect">
            <h2>â“ ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸€ä¸ªé™·é˜±è€Œéç¼ºé™·ï¼Ÿ</h2>
            
            <h3>1. æŠ€æœ¯ä¸Šçš„æ­£ç¡®æ€§</h3>
            <p>ä»æŠ€æœ¯å®ç°è§’åº¦çœ‹ï¼ŒLombokçš„è¡Œä¸ºæ˜¯<strong>æ­£ç¡®ä¸”ä¸€è‡´çš„</strong>ï¼š</p>
            <ul>
                <li>å®ƒå¿ å®åœ°æŒ‰ç…§æ³¨è§£çš„é»˜è®¤å€¼ç”Ÿæˆäº†ä»£ç </li>
                <li>å®ƒæä¾›äº†æ˜¾å¼é…ç½®é€‰é¡¹ï¼ˆ<code>callSuper</code>å‚æ•°ï¼‰</li>
                <li>å®ƒç”šè‡³æä¾›äº†ç¼–è¯‘æ—¶è­¦å‘Š</li>
            </ul>
            
            <div class="code-container">
                <div class="code-header">
                    <span class="language-tag">Java - æ­£ç¡®çš„ä½¿ç”¨æ–¹å¼</span>
                    <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶ä»£ç </button>
                </div>
                <div class="code-content">
<pre><span class="comment">// æ­£ç¡®ï¼šæ˜¾å¼æŒ‡å®šcallSuper = true</span>
<span class="annotation">@Data</span>
<span class="annotation">@EqualsAndHashCode(callSuper = true)</span>
<span class="annotation">@ToString(callSuper = true)</span>
<span class="keyword">public class</span> <span class="class-name">CorrectChild</span> <span class="keyword">extends</span> <span class="class-name">Parent</span> {
    <span class="comment">// ç©ºç±»ï¼Œä½†equals/hashCodeä¼šåŒ…å«çˆ¶ç±»å­—æ®µ</span>
}</pre>
                </div>
            </div>
            
            <h3>2. è®¤çŸ¥ä¸Šçš„é™·é˜±</h3>
            <p>é—®é¢˜å‡ºç°åœ¨<strong>å¼€å‘è€…çš„å¿ƒç†æ¨¡å‹</strong>ä¸<strong>å®é™…è¡Œä¸º</strong>ä¹‹é—´çš„å·®è·ï¼š</p>
            <ol>
                <li><strong>ç»§æ‰¿çš„ç›´è§‰</strong>ï¼šå¼€å‘è€…è®¤ä¸º"å­ç±»ç»§æ‰¿äº†çˆ¶ç±»çš„æ‰€æœ‰å­—æ®µï¼Œæ‰€ä»¥ç›¸ç­‰æ€§æ¯”è¾ƒåº”è¯¥åŒ…å«è¿™äº›å­—æ®µ"</li>
                <li><strong>@Dataçš„ä¾¿åˆ©æ€§</strong>ï¼šå¼€å‘è€…è®¤ä¸º<code>@Data</code>æ˜¯ä¸€ä¸ª"å…¨èƒ½"æ³¨è§£ï¼Œåº”è¯¥å¤„ç†æ‰€æœ‰å¸¸è§æƒ…å†µ</li>
                <li><strong>ç©ºå­ç±»çš„å¸¸è§æ€§</strong>ï¼šåœ¨æ¡†æ¶è®¾è®¡ä¸­ï¼Œç©ºå­ç±»ä½œä¸º"æ ‡è®°ç±»"æˆ–"æ‰©å±•å ä½ç¬¦"éå¸¸å¸¸è§</li>
            </ol>
            
            <h3>3. å®‰å…¨ç½‘ç¼ºå¤±</h3>
            <p>è™½ç„¶Lombokå¯ä»¥é€šè¿‡é…ç½®å‘å‡ºè­¦å‘Šï¼Œä½†ï¼š</p>
            <ul>
                <li>è­¦å‘Šå®¹æ˜“è¢«å¿½ç•¥</li>
                <li>é»˜è®¤é…ç½®ä¸å¼ºåˆ¶ä¿®æ”¹è¡Œä¸º</li>
                <li>æ–‡æ¡£ä¸­çš„æ³¨æ„äº‹é¡¹ä¸å¤Ÿæ˜¾çœ¼</li>
            </ul>
            
            <div class="quote">
                <p>"è¿™ä¸æ˜¯ä¸€ä¸ªbugï¼Œè€Œæ˜¯ä¸€ä¸ªè®¾è®¡æƒè¡¡ã€‚Lomboké€‰æ‹©å°†æ§åˆ¶æƒäº¤ç»™å¼€å‘è€…ï¼Œä½†åŒæ—¶ä¹Ÿå°†æ­£ç¡®ä½¿ç”¨çš„è´£ä»»è½¬ç§»ç»™äº†å¼€å‘è€…ã€‚"</p>
                <p class="quote-author">â€”â€” Lombokè®¾è®¡å“²å­¦</p>
            </div>
        </section>

        <section id="solutions">
            <h2>ğŸ› ï¸ è§£å†³æ–¹æ¡ˆå¯¹æ¯”</h2>
            <p>ä¸‹è¡¨æ€»ç»“äº†ä¸åŒè§£å†³æ–¹æ¡ˆçš„ä¼˜ç¼ºç‚¹ï¼š</p>
            
            <table class="solution-table">
                <thead>
                    <tr>
                        <th>æ–¹æ¡ˆ</th>
                        <th>å®ç°æ–¹å¼</th>
                        <th>ä¼˜ç‚¹</th>
                        <th>ç¼ºç‚¹</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>æ˜¾å¼æ³¨è§£</strong></td>
                        <td>å­ç±»ä½¿ç”¨<code>@EqualsAndHashCode(callSuper=true)</code></td>
                        <td>ç²¾ç¡®æ§åˆ¶ï¼Œæ„å›¾æ˜ç¡®</td>
                        <td>æ¯ä¸ªå­ç±»éƒ½è¦æ·»åŠ ï¼Œå®¹æ˜“é—æ¼</td>
                    </tr>
                    <tr>
                        <td><strong>å…¨å±€é…ç½®</strong></td>
                        <td>åœ¨<code>lombok.config</code>ä¸­æ·»åŠ <code>lombok.equalsAndHashCode.callSuper=call</code></td>
                        <td>ä¸€åŠ³æ°¸é€¸ï¼Œå›¢é˜Ÿç»Ÿä¸€</td>
                        <td>å¯èƒ½å½±å“ä¸æœŸæœ›æ­¤è¡Œä¸ºçš„ç‰¹æ®Šç±»</td>
                    </tr>
                    <tr>
                        <td><strong>ç»„åˆæ³¨è§£</strong></td>
                        <td>ä½¿ç”¨<code>@Getter @Setter @ToString</code>ä»£æ›¿<code>@Data</code></td>
                        <td>æ˜ç¡®æ§åˆ¶ï¼Œé¿å…éšå«è¡Œä¸º</td>
                        <td>éœ€è¦æ›´å¤šæ³¨è§£ï¼Œä»£ç ç¨é•¿</td>
                    </tr>
                    <tr>
                        <td><strong>æ‰‹åŠ¨å®ç°</strong></td>
                        <td>æ‰‹åŠ¨é‡å†™<code>equals</code>å’Œ<code>hashCode</code></td>
                        <td>å®Œå…¨æ§åˆ¶ï¼Œè¡Œä¸ºæ˜ç¡®</td>
                        <td>è¿åä½¿ç”¨Lombokçš„åˆè¡·ï¼Œå¢åŠ ç»´æŠ¤æˆæœ¬</td>
                    </tr>
                    <tr>
                        <td><strong>é¿å…ç»§æ‰¿</strong></td>
                        <td>ä½¿ç”¨ç»„åˆä»£æ›¿ç»§æ‰¿</td>
                        <td>è®¾è®¡æ›´æ¸…æ™°ï¼Œé¿å…ç»§æ‰¿é™·é˜±</td>
                        <td>å¯èƒ½ä¸é€‚åˆçœŸæ­£çš„"is-a"å…³ç³»</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="note">
                <h4>ğŸ† æ¨èæ–¹æ¡ˆï¼šå…¨å±€é…ç½® + ä»£ç è§„èŒƒ</h4>
                <p>å¯¹äºå›¢é˜Ÿé¡¹ç›®ï¼Œ<strong>å…¨å±€é…ç½®æ˜¯æœ€ä½³é€‰æ‹©</strong>ã€‚å®ƒèƒ½ç¡®ä¿æ•´ä¸ªé¡¹ç›®çš„ä¸€è‡´æ€§ï¼Œé¿å…å› å¼€å‘è€…ç–å¿½å¯¼è‡´çš„é—®é¢˜ã€‚</p>
                <p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º<code>lombok.config</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
                <div class="demo-output" style="margin: 10px 0;">
# Lombokå…¨å±€é…ç½®
lombok.equalsAndHashCode.callSuper=call
lombok.toString.callSuper=call
config.stopBubbling=true
                </div>
            </div>
        </section>

        <section id="best-practices">
            <h2>ğŸ’¡ æœ€ä½³å®è·µå»ºè®®</h2>
            
            <h3>1. å¯¹äºæ–°é¡¹ç›®ï¼šé‡‡ç”¨å…¨å±€é…ç½®</h3>
            <p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º<code>lombok.config</code>æ–‡ä»¶ï¼š</p>
            
            <div class="code-container">
                <div class="code-header">
                    <span class="language-tag">lombok.config</span>
                    <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶ä»£ç </button>
                </div>
                <div class="code-content">
<pre><span class="comment"># å¯¹äºç»§æ‰¿éObjectçš„ç±»ï¼Œè‡ªåŠ¨åŒ…å«çˆ¶ç±»å­—æ®µ</span>
lombok.equalsAndHashCode.callSuper=call
lombok.toString.callSuper=call

<span class="comment"># å½“æ£€æµ‹åˆ°å¯èƒ½çš„é—®é¢˜æ—¶å‘å‡ºè­¦å‘Š</span>
config.stopBubbling=true

<span class="comment"># å…¶ä»–æœ‰ç”¨çš„é…ç½®</span>
lombok.anyConstructor.addConstructorProperties=true
lombok.experimental.flagUsage=WARNING</pre>
                </div>
            </div>
            
            <h3>2. å¯¹äºå·²æœ‰é¡¹ç›®ï¼šæ¸è¿›å¼ä¿®å¤</h3>
            <ol>
                <li><strong>é¦–å…ˆ</strong>ï¼Œåœ¨<code>lombok.config</code>ä¸­å¯ç”¨è­¦å‘Šï¼š
                    <div class="code-container" style="margin:10px 0;">
                        <div class="code-header">
                            <span class="language-tag">lombok.config</span>
                            <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶ä»£ç </button>
                        </div>
                        <div class="code-content">
<pre>lombok.equalsAndHashCode.callSuper=warn</pre>
                        </div>
                    </div>
                </li>
                <li><strong>ç„¶å</strong>ï¼Œé€æ­¥ä¿®å¤æ‰€æœ‰ç¼–è¯‘è­¦å‘Š</li>
                <li><strong>æœ€å</strong>ï¼Œå°†è­¦å‘Šæ”¹ä¸ºå¼ºåˆ¶è¡Œä¸ºï¼ˆ<code>call</code>ï¼‰</li>
            </ol>
            
            <h3>3. ç¼–ç è§„èŒƒçº¦æŸ</h3>
            <p>åœ¨å›¢é˜Ÿå¼€å‘ä¸­ï¼Œå»ºç«‹æ˜ç¡®çš„è§„èŒƒï¼š</p>
            
            <div class="code-container">
                <div class="code-header">
                    <span class="language-tag">Java - è§„èŒƒç¤ºä¾‹</span>
                    <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶ä»£ç </button>
                </div>
                <div class="code-content">
<pre><span class="comment">// åšæ³•1ï¼šæ˜¾å¼æ ‡æ³¨ï¼ˆå½“ä¸ä½¿ç”¨å…¨å±€é…ç½®æ—¶ï¼‰</span>
<span class="annotation">@Data</span>
<span class="annotation">@EqualsAndHashCode(callSuper = true)</span>
<span class="annotation">@ToString(callSuper = true)</span>
<span class="keyword">public class</span> <span class="class-name">Child</span> <span class="keyword">extends</span> <span class="class-name">Parent</span> {
    <span class="comment">// ä¸šåŠ¡å­—æ®µ...</span>
}

<span class="comment">// åšæ³•2ï¼šä½¿ç”¨ç»„åˆä»£æ›¿ç»§æ‰¿ï¼ˆå¦‚æœé€‚ç”¨ï¼‰</span>
<span class="annotation">@Data</span>
<span class="keyword">public class</span> <span class="class-name">Child</span> {
    <span class="keyword">private</span> <span class="class-name">Parent</span> parent;  <span class="comment">// ç»„åˆå…³ç³»</span>
    <span class="keyword">private</span> <span class="class-name">String</span> childField;
    
    <span class="comment">// æä¾›ä¾¿åˆ©æ–¹æ³•</span>
    <span class="keyword">public</span> <span class="class-name">Long</span> <span class="method">getId</span>() {
        <span class="keyword">return</span> parent != <span class="keyword">null</span> ? parent.getId() : <span class="keyword">null</span>;
    }
}

<span class="comment">// åšæ³•3ï¼šä½¿ç”¨@Valueåˆ›å»ºä¸å¯å˜å¯¹è±¡</span>
<span class="annotation">@Value</span>
<span class="annotation">@EqualsAndHashCode(callSuper = true)</span>
<span class="annotation">@ToString(callSuper = true)</span>
<span class="keyword">public class</span> <span class="class-name">ImmutableChild</span> <span class="keyword">extends</span> <span class="class-name">Parent</span> {
    <span class="keyword">private final</span> <span class="class-name">String</span> extraField;
}</pre>
                </div>
            </div>
            
            <div class="warning-box">
                <h3>ğŸš¨ ç‰¹åˆ«æ³¨æ„ï¼šJPA/Hibernateå®ä½“</h3>
                <p>åœ¨ä½¿ç”¨JPAæˆ–Hibernateæ—¶ï¼Œå®ä½“ç±»çš„<code>equals</code>å’Œ<code>hashCode</code>å®ç°éœ€è¦ç‰¹åˆ«å°å¿ƒï¼š</p>
                <ul>
                    <li>é¿å…ä½¿ç”¨æ•°æ®åº“ç”Ÿæˆçš„IDï¼ˆå¦‚<code>@GeneratedValue</code>ï¼‰è¿›è¡Œæ¯”è¾ƒ</li>
                    <li>è€ƒè™‘ä½¿ç”¨ä¸šåŠ¡é”®ï¼ˆè‡ªç„¶é”®ï¼‰æˆ–æ‰€æœ‰å­—æ®µè¿›è¡Œæ¯”è¾ƒ</li>
                    <li>åœ¨å®ä½“å°šæœªä¿å­˜åˆ°æ•°æ®åº“æ—¶ï¼ŒIDä¸ºnullï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†</li>
                </ul>
            </div>
        </section>

        <section id="conclusion">
            <h2>ğŸ¨ ç»“è¯­ï¼šæ¡†æ¶è®¾è®¡çš„å¹³è¡¡è‰ºæœ¯</h2>
            
            <p>è¿™ä¸ª"é™·é˜±"å®é™…ä¸Šåæ˜ äº†æ¡†æ¶è®¾è®¡ä¸­çš„ä¸€ä¸ªæ ¹æœ¬æ€§æŒ‘æˆ˜ï¼š<strong>å¦‚ä½•åœ¨ä¾¿åˆ©æ€§ä¸å®‰å…¨æ€§ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ç‚¹ï¼Ÿ</strong></p>
            
            <ol>
                <li><strong>ä¾¿åˆ©æ€§ä¼˜å…ˆ</strong>ï¼šåƒLombokæœ€åˆçš„é€‰æ‹©ï¼Œæä¾›æœ€ç®€å•çš„é»˜è®¤è¡Œä¸ºï¼Œç›¸ä¿¡å¼€å‘è€…ä¼šé˜…è¯»æ–‡æ¡£å¹¶æ­£ç¡®ä½¿ç”¨é«˜çº§åŠŸèƒ½ã€‚</li>
                <li><strong>å®‰å…¨æ€§ä¼˜å…ˆ</strong>ï¼šåƒè®¸å¤šç°ä»£æ¡†æ¶çš„é€‰æ‹©ï¼Œå¯¹å¯èƒ½æœ‰é—®é¢˜çš„æƒ…å†µé»˜è®¤é‡‡å–ä¿å®ˆè¡Œä¸ºï¼Œç”šè‡³ç›´æ¥æŠ¥é”™ã€‚</li>
                <li><strong>æ¸è¿›å¼æŠ«éœ²</strong>ï¼šæä¾›å®‰å…¨çš„é»˜è®¤å€¼ï¼Œä½†é€šè¿‡æ™ºèƒ½æ£€æµ‹å’Œæ˜ç¡®æç¤ºï¼Œå¼•å¯¼å¼€å‘è€…åšå‡ºæ­£ç¡®é€‰æ‹©ã€‚</li>
            </ol>
            
            <div class="demo-section">
                <h4>ğŸ“‹ å¿«é€Ÿæ£€æŸ¥æ¸…å•</h4>
                <ul>
                    <li>âœ… åœ¨ä½¿ç”¨<code>@Data</code>çš„ç»§æ‰¿ç±»ä¸­ï¼Œæ˜¯å¦è®¾ç½®äº†<code>callSuper = true</code>ï¼Ÿ</li>
                    <li>âœ… é¡¹ç›®æ˜¯å¦æœ‰ç»Ÿä¸€çš„<code>lombok.config</code>æ–‡ä»¶ï¼Ÿ</li>
                    <li>âœ… å›¢é˜Ÿæ˜¯å¦äº†è§£è¿™ä¸ªé™·é˜±å¹¶éµå®ˆç›¸å…³è§„èŒƒï¼Ÿ</li>
                    <li>âœ… ä»£ç å®¡æŸ¥æ˜¯å¦åŒ…å«Lombokç”¨æ³•çš„æ£€æŸ¥ï¼Ÿ</li>
                    <li>âœ… æ˜¯å¦æœ‰è‡ªåŠ¨åŒ–æµ‹è¯•éªŒè¯<code>equals</code>/<code>hashCode</code>çš„è¡Œä¸ºï¼Ÿ</li>
                </ul>
            </div>
            
            <div class="warning-box">
                <h3>ğŸ’ å…³é”®è¦ç‚¹</h3>
                <p>Lombokçš„è¿™ä¸ªè®¾è®¡é€‰æ‹©ç¡®å®æ˜¯ä¸€ä¸ª<strong>æœ‰æ„ä¸ºä¹‹çš„æƒè¡¡</strong>ï¼Œè€ŒéæŠ€æœ¯ç¼ºé™·ã€‚å®ƒä½“ç°äº†æ¡†æ¶è®¾è®¡è€…å¯¹äº"ä¸æ›¿å¼€å‘è€…åšå†³å®š"è¿™ä¸€åŸåˆ™çš„åšæŒï¼Œä½†åŒæ—¶ä¹Ÿæš´éœ²äº†å½“ä¾¿åˆ©æ€§å·¥å…·é‡åˆ°å¤æ‚ç»§æ‰¿å…³ç³»æ—¶çš„å±€é™æ€§ã€‚</p>
            </div>
            
            <p>ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬éœ€è¦ï¼š</p>
            <ul>
                <li><strong>ç†è§£å·¥å…·çš„é™åˆ¶</strong>ï¼šæ²¡æœ‰å·¥å…·æ˜¯å®Œç¾çš„ï¼Œç†è§£å…¶è¾¹ç•Œæ¡ä»¶è‡³å…³é‡è¦</li>
                <li><strong>å»ºç«‹é˜²å¾¡æ€§ä¹ æƒ¯</strong>ï¼šåœ¨ä½¿ç”¨ä¾¿åˆ©å·¥å…·æ—¶ï¼Œå§‹ç»ˆä¿æŒè­¦æƒ•</li>
                <li><strong>å›¢é˜ŸçŸ¥è¯†å…±äº«</strong>ï¼šç¡®ä¿å›¢é˜Ÿæˆå‘˜éƒ½äº†è§£è¿™äº›"é™·é˜±"å’Œæœ€ä½³å®è·µ</li>
            </ul>
            
            <div class="quote">
                <p><strong>æ³¨è§£å¯ä»¥å‡å°‘ä»£ç é‡ï¼Œä½†ä¸ä¼šå‡å°‘ä½ éœ€è¦æ€è€ƒçš„è®¾è®¡é—®é¢˜ã€‚</strong> æ¯ä¸€æ¬¡ä½¿ç”¨<code>@Data</code>æ—¶ï¼Œéƒ½é—®é—®è‡ªå·±ï¼šè¿™ä¸ªç±»çš„ç›¸ç­‰æ€§è¯­ä¹‰åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p>
            </div>
            
            <p style="font-style: italic; margin-top: 30px; padding: 15px; background: #f0f9ff; border-radius: 8px;">
                <strong>æœ€åæé†’ï¼š</strong>ä¸‹æ¬¡å½“ä½ çœ‹åˆ°<code>@Data</code>æ³¨è§£æ—¶ï¼Œä¸å¦¨èŠ±ä¸€ç§’é’Ÿæ€è€ƒï¼šè¿™ä¸ªç±»æœ‰çˆ¶ç±»å—ï¼Ÿå®ƒçš„<code>equals</code>å’Œ<code>hashCode</code>è¡Œä¸ºçœŸçš„æ˜¯æˆ‘æœŸæœ›çš„å—ï¼Ÿè¿™ä¸€ç§’é’Ÿçš„æ€è€ƒï¼Œå¯èƒ½ä¼šèŠ‚çœä½ æ•°å°æ—¶çš„è°ƒè¯•æ—¶é—´ã€‚
            </p>
        </section>
        
        
    </div>
    
    <script>
        // å¤åˆ¶ä»£ç åŠŸèƒ½
        function copyCode(button) {
            const codeContainer = button.closest('.code-container');
            const codeContent = codeContainer.querySelector('.code-content');
            const codeText = codeContent.textContent;
            
            // åˆ›å»ºä¸´æ—¶textarea
            const textarea = document.createElement('textarea');
            textarea.value = codeText;
            document.body.appendChild(textarea);
            textarea.select();
            
            try {
                document.execCommand('copy');
                const originalText = button.textContent;
                button.textContent = 'å·²å¤åˆ¶!';
                button.style.background = '#38a169';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '';
                }, 2000);
            } catch (err) {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                button.textContent = 'å¤åˆ¶å¤±è´¥';
                setTimeout(() => {
                    button.textContent = 'å¤åˆ¶ä»£ç ';
                }, 2000);
            } finally {
                document.body.removeChild(textarea);
            }
        }
        
        // å¹³æ»‘æ»šåŠ¨åˆ°é”šç‚¹
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // é¡µé¢åŠ è½½æ—¶é«˜äº®å½“å‰é˜…è¯»éƒ¨åˆ†
        const sections = document.querySelectorAll('section[id]');
        const observerOptions = {
            root: null,
            rootMargin: '-20% 0px -70% 0px',
            threshold: 0.1
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const currentId = entry.target.getAttribute('id');
                    document.querySelectorAll('.toc a').forEach(link => {
                        link.style.fontWeight = link.getAttribute('href') === `#${currentId}` ? 'bold' : 'normal';
                        link.style.color = link.getAttribute('href') === `#${currentId}` ? '#2c5282' : '';
                    });
                }
            });
        }, observerOptions);
        
        sections.forEach(section => {
            observer.observe(section);
        });
    </script>
</body>
</html>